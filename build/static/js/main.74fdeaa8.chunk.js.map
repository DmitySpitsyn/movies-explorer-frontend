{"version":3,"sources":["components/Main/Promo/Promo.js","components/Main/AboutProject/AboutProject.js","components/Main/Techs/Techs.js","images/portfolio_foto.jpg","components/Main/Portfolio/Portgolio.js","components/Footer/Footer.js","components/Main/Main.js","components/Movies/FilterCheckbox/FilterCheckbox.js","components/Movies/SearchForm/SearchForm.js","components/Movies/MoviesCard/MoviesCard.js","components/Movies/MoviesCardList/MoviesCardList.js","components/Movies/Movies.js","components/SavedMovies/MoviesCard/MoviesCard.js","components/SavedMovies/MoviesCardList/MoviesCardList.js","components/SavedMovies/SavedMovies.js","contexts/CurrentUserContext.js","components/Profile/Profile.js","components/Login/Login.js","components/Register/Register.js","components/NotFound/NotFound.js","components/Menu/Menu.js","components/ProtectedRoute/ProtectedRoute.js","utils/MainApi.js","utils/MoviesApi.js","components/Preloader/Preloader.js","components/Header/header.js","components/AutorizationRoute/AutorizationRoute.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["Promo","props","className","AboutProject","id","Techs","Portfolio","href","src","portfolioFoto","alt","class","Footer","Main","useEffect","setIsOpenHeader","FilterCheckBox","location","useLocation","useState","isFilter","setIsFilter","setShortMovie","type","name","visible","onInput","pathname","includes","resetPageCounter","SearchForm","dataForSearch","setDataForSearch","error","setError","onSubmit","evt","preventDefault","handleSearch","placeholder","onChange","target","value","MoviesCard","_id","savedMovies","forEach","element","movieId","card","mins","movieLikeButtonClassName","nameRU","duration","Math","trunc","onClick","savedMovie","closest","checkLike","window","open","trailerLink","image","url","MoviesCardList","arr","amountCards","setAmountCards","howCards","innerWidth","addEventListener","filteredMovies","length","push","i","slice","pageCounter","hideButton","console","log","undefined","map","createMovies","deleteMovie","Movies","setPageCounter","buttonState","setButtonState","data","state","disabled","SavedMovies","CurrentUserContext","React","createContext","Profile","currentUser","useContext","values","setValues","errors","setErrors","isValid","setIsValid","isValidEmail","setIsValidEmail","handleChange","validator","isEmail","email","validationEmail","checkValidity","validationMessage","message","onUpdateUser","for","required","minLength","maxLength","onLogOut","Login","isServerError","setIsServerError","resetForm","useCallback","newValues","newErrors","newIsValid","onLogin","then","catch","err","json","noValidate","password","onClickRegister","Register","onRegister","onClickLogin","NotFound","history","useHistory","goBack","Menu","isOpen","onClose","openProfile","ProtectedRoute","Component","component","isLoggedIn","to","auth","options","this","_options","_getDataFromServer","bind","res","status","Promise","reject","fetch","baseUrl","headers","credentials","method","body","JSON","stringify","country","director","year","description","trailer","nameEN","thumbnail","moviesApi","ok","Error","Preloader","Header","linkToMain","isOpenHeader","openMenu","AutorizationRoute","App","setIsLoggedIn","isMenuOpen","setIsMenuOpen","isOpenPreloader","setIsOpenPreloader","setCurrentUser","setFilteredMovies","movies","setMovies","setSavedMovies","shortMovie","filteredSavedMovies","setFilteredSavedMovies","shortMovieDuration","loginData","jwt","localStorage","setItem","getMovies","parse","getItem","all","authorization","getSavedMovies","user","savedmovies","filtered","filter","movie","toLowerCase","alert","validation","Provider","exact","path","isLiked","savedmovie","newCard","c","editUser","registerData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.74fdeaa8.chunk.js","sourcesContent":["function Promo(props) {\r\n  return (\r\n    <section className='promo'>\r\n      <div className='promo__logo'></div>\r\n      <h1 className='promo__title'>Учебный проект студента факультета Веб-разработки.</h1>\r\n    </section>\r\n)\r\n};\r\n\r\nexport default Promo;","function AboutProject(props) {\r\n  return (\r\n    <section id='aboutproject' className='aboutproject'>\r\n      <h2 className='titleunderline'>О проекте</h2>\r\n      <div className='twocolumns'>\r\n        <div className='firstcolumn'>\r\n        <h3 className='aboutproject__subtitle'>Дипломный проект включал 5 этапов</h3>\r\n        <p className='aboutproject__text'>Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\r\n        </div>\r\n        <div className='secondcolumn'>\r\n        <h3 className='aboutproject__subtitle'>На выполнение диплома ушло 5 недель</h3>\r\n        <p className='aboutproject__text'>У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\r\n        </div>\r\n      </div>\r\n      <div className='twocolumns twocolumns_type_progressline'>\r\n        <div className='aboutproject__progressline aboutproject__progressline_type_short'>1 неделя</div>\r\n        <div className='aboutproject__progressline'>4 недели</div>\r\n        <p className='aboutproject__caption'>Back-end</p>\r\n        <p className='aboutproject__caption'>Front-end</p>\r\n      </div>\r\n    </section>\r\n  )\r\n};\r\n\r\nexport default AboutProject;","function Techs(props) {\r\n  return (\r\n    <section id='techs' className='techs'>\r\n      <h2 className='titleunderline'>Технологии</h2>\r\n      <h2 className='techs__title'>7 технологий</h2>\r\n      <p className='techs__text'>На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\r\n      <ul className='techs__icons'>\r\n        <li className='techs__icon'>HTML</li>\r\n        <li className='techs__icon'>CSS</li>\r\n        <li className='techs__icon'>JS</li>\r\n        <li className='techs__icon'>React</li>\r\n        <li className='techs__icon'>Git</li>\r\n        <li className='techs__icon'>Express.js</li>\r\n        <li className='techs__icon'>mongoDB</li>\r\n      </ul>\r\n    </section>\r\n  )\r\n};\r\n\r\nexport default Techs;","export default __webpack_public_path__ + \"static/media/portfolio_foto.6f2c98da.jpg\";","import portfolioFoto from '../../../images/portfolio_foto.jpg';\r\n\r\nfunction Portfolio(props) {\r\n  return (\r\n    <section id='portfolio' className='portfolio'>\r\n      <h2 className='titleunderline'>Студент</h2>\r\n      <div className='twocolumns twocolumns_type_portfolio'>\r\n        <div className='portfolio__about'>\r\n          <h2 className='portfolio__namestudent'>Дмитрий</h2>\r\n          <h3 className='portfolio__description'>Инженер-механик.</h3>\r\n          <p className='portfolio__text'>Я родился в Свердловске ныне Екатеринбург, живу здесь же, Окончил УГТУ-УПИ, по специальности \"Подъёмно-транспортные машины\". Работаю по специальности. В настоящее время решил сменить работу. И записался на курсы Яндекс Практикума на специальность Web-разработчика.</p>\r\n          <ul className='portfolio__links'>\r\n            <li className='portfolio__link'><a className='portfolio__link' href=\"https://www.facebook.com/\">Facebook</a></li>\r\n            <li className='portfolio__link'><a className='portfolio__link' href=\"https://github.com/\">Github</a></li>\r\n          </ul>\r\n          <h3 className='portfolio__title'>Портфолио</h3>\r\n        </div>\r\n        <img className='portfolio__foto' src={portfolioFoto} alt='фото студента'></img>\r\n      </div>\r\n      <ul className='portfolio__workslist'>\r\n        <li class='portfolio__listitem'>\r\n          <a className='portfolio__worklink' href=\"/#\">Статичный сайт</a>\r\n          <span className='portfolio__arow'>&#8599;</span>\r\n        </li>\r\n        <li class='portfolio__listitem'>\r\n          <a className='portfolio__worklink' href=\"/#\">Адаптивный сайт</a>\r\n          <span className='portfolio__arow'>&#8599;</span>\r\n        </li>\r\n        <li class='portfolio__listitem'>\r\n          <a className='portfolio__worklink' href=\"/#\">Одностраничное приложение</a>\r\n          <span className='portfolio__arow'>&#8599;</span>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n  )\r\n};\r\n\r\nexport default Portfolio;","function Footer(props) {\r\n  return (\r\n    <section className='footer'>\r\n      <h2 className='footer__title'>Учебный проект Яндекс.Практикум х BeatFilm.</h2>\r\n      <div className='twocolumns twocolumns_type_footer'>\r\n        <p className='footer__year'>&#169; 2021</p>\r\n        <ul className='footer__links'>\r\n          <li className='footer__listitem'><a className='footer__link' href='https://praktikum.yandex.ru/'>Яндекс.Практикум</a></li>\r\n          <li className='footer__listitem'><a className='footer__link' href='https://github.com/'>Github</a></li>\r\n          <li className='footer__listitem'><a className='footer__link' href='https://www.facebook.com/'>Facebook</a></li>\r\n        </ul>\r\n      </div>\r\n    </section>\r\n  )\r\n};\r\n\r\nexport default Footer;","import Promo from './Promo/Promo';\r\nimport AboutProject from './AboutProject/AboutProject';\r\nimport Techs from './Techs/Techs';\r\nimport Portfolio from './Portfolio/Portgolio';\r\nimport Footer from '../Footer/Footer';\r\nimport { useEffect } from 'react';\r\n\r\nfunction Main(props) {\r\n\r\nuseEffect(() => {\r\n  props.setIsOpenHeader(true);\r\n});\r\n\r\n  \r\n\r\n  return (\r\n    <section className='main'>\r\n      <Promo />\r\n      <AboutProject />\r\n      <Techs />\r\n      <Portfolio />\r\n      <Footer />\r\n    </section>\r\n)\r\n};\r\n\r\nexport default Main;","import { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router';\r\n\r\n\r\nfunction FilterCheckBox(props) {\r\n\r\n  const location = useLocation()\r\n\r\n  const [isFilter, setIsFilter] = useState(false);\r\n\r\n  function checkFilter() {\r\n    setIsFilter(!isFilter);\r\n    if (location.pathname.includes('/saved-movies')) {\r\n      return; \r\n    }\r\n    props.resetPageCounter();\r\n  }\r\n\r\n  useEffect(() => {\r\n    props.setShortMovie(isFilter);\r\n  }) \r\n\r\n  \r\n\r\n  return (\r\n    <section className=\"filtercheckbox\">\r\n      <label className='filtercheckbox__button'>\r\n        <input type='checkbox' name='filter' visible='none' onInput={checkFilter}></input>\r\n          <span className='filtercheckbox__span'>Короткометражки</span>\r\n         \r\n      </label>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default FilterCheckBox;","import FilterCheckBox from \"../FilterCheckbox/FilterCheckbox\";\r\nimport {useState} from 'react';\r\n\r\nfunction SearchForm(props) {\r\n\r\n  const [dataForSearch, setDataForSearch] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\nfunction handleChange(evt) {\r\n  setDataForSearch(evt.target.value);\r\n  setError('');\r\n}\r\n\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    if (dataForSearch === '') {\r\n      setError('Нужно ввести ключевое слово');\r\n      return;\r\n    }\r\n    props.handleSearch(dataForSearch);\r\n  };\r\n\r\n  return (\r\n    <section className=\"searchform\">\r\n      <div className='searchform__form'>\r\n        <form className='form' onSubmit={handleSubmit}>\r\n          <input type='text' placeholder='Фильм' onChange={handleChange} value={dataForSearch.name} name='name' className='form__input'></input>\r\n          <button type='submit' className='form__button'></button>\r\n        </form>\r\n        <span className='form__input-error'>{error}</span>\r\n        <FilterCheckBox resetPageCounter={props.resetPageCounter} setShortMovie={props.setShortMovie} />\r\n      </div>\r\n      <div className='underline'></div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default SearchForm;","\r\nfunction MoviesCard(props) {\r\n\r\n  function getTimeFromMins(mins) {\r\n    let hours = Math.trunc(mins / 60);\r\n    let minutes = mins % 60;\r\n    return hours + 'ч. ' + minutes + 'м.';\r\n  };\r\n\r\n  function checkLike(evt) {\r\n    const savedMovie = evt.target.closest('.moviescard').id\r\n    props.checkLike(_id, props.card, savedMovie)\r\n  }\r\n\r\n\r\n  let _id;\r\n\r\n  props.savedMovies.forEach((element) => {\r\n    if (element.movieId === props.card.id) {\r\n      _id = element._id;\r\n    }\r\n  });\r\n\r\n  function openTrailer() {\r\n    window.open(props.card.trailerLink)\r\n  }\r\n  \r\n\r\n  const movieLikeButtonClassName = (\r\n    `moviescard__span ${_id ? 'moviescard__span_checked' : ' '}`\r\n  );\r\n\r\n  return (\r\n    <section id = {_id} className=\"moviescard\" >\r\n      <div className='moviescard__description'>\r\n        <h2 className='moviescard__title'>{props.card.nameRU}</h2>\r\n          <span className='moviescard__timestamp'>{getTimeFromMins(props.card.duration)}</span>\r\n        <label className='moviescard__likebutton'>\r\n        <input type='checkbox' name='filter' visible='none' onClick={checkLike}></input>\r\n          <span className={movieLikeButtonClassName}></span>\r\n        </label>\r\n      </div>\r\n      <img className='moviescard__image' onClick={openTrailer} src={'https://api.nomoreparties.co' + props.card.image.url} alt={props.card.image.name}></img>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default MoviesCard;","import MoviesCard from \"../MoviesCard/MoviesCard\";\r\nimport { useState, useEffect } from 'react';\r\n\r\nfunction MoviesCardList(props) {\r\n\r\n  let arr = [];\r\n  const [amountCards, setAmountCards] = useState(16);\r\n\r\n  useEffect(() => {\r\n    props.resetPageCounter();\r\n    function howCards() {\r\n      if (window.innerWidth <= 400) {\r\n        setAmountCards(5);\r\n      } else {\r\n        setAmountCards(7);\r\n      }\r\n    }\r\n    howCards();\r\n    window.addEventListener('resize', () => {\r\n      howCards();\r\n    });\r\n  }, []);\r\n\r\n\r\n  if (window.innerWidth <= 400) {\r\n    if (props.filteredMovies.length <= amountCards) {\r\n      arr.push(props.filteredMovies);\r\n    } else {\r\n      for (let i = amountCards; i <= props.filteredMovies.length; i += 5) {\r\n        arr.push(props.filteredMovies.slice(0, i));\r\n      };\r\n    };\r\n  } else {\r\n    if (props.filteredMovies.length <= amountCards) {\r\n      arr.push(props.filteredMovies);\r\n    } else {\r\n      for (let i = amountCards; i <= props.filteredMovies.length; i += 1) {\r\n        arr.push(props.filteredMovies.slice(0, i));\r\n      };\r\n    };\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    if (arr.length <= (props.pageCounter + 1)) {\r\n      props.hideButton(true)\r\n    }\r\n    else {\r\n      props.hideButton(false);\r\n    }\r\n  }, [props.pageCounter, amountCards, arr.length, props]);\r\nconsole.log(props.filteredMovies)\r\nconsole.log(arr[0].length)\r\n\r\n  return (\r\n    <section className='moviescardlist'>\r\n      {\r\n        ((arr[0].length === 0) || (arr === undefined)) ? <span>Ничего не найдено</span> :\r\n          arr[props.pageCounter].map((card) => (<MoviesCard\r\n            key={card.id}\r\n            card={card}\r\n            createMovies={props.createMovies}\r\n            savedMovies={props.savedMovies}\r\n            deleteMovie={props.deleteMovie}\r\n            checkLike={props.checkLike}\r\n          />))\r\n      }\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default MoviesCardList;","import SearchForm from '../Movies/SearchForm/SearchForm'\r\nimport MoviesCardList from './MoviesCardList/MoviesCardList'\r\nimport Footer from '../Footer/Footer';\r\nimport { useEffect, useState } from 'react';\r\n\r\nfunction Movies(props) {\r\n\r\n  const [pageCounter, setPageCounter] = useState(0);\r\n  const [buttonState, setButtonState] = useState(false);\r\n\r\n  useEffect(() => {\r\n    props.setIsOpenHeader(true);\r\n  });\r\n \r\n  function updatePage() {\r\n    setPageCounter(pageCounter + 1)\r\n  }\r\n\r\n  function resetPageCounter() {\r\n    setPageCounter(0);\r\n  }\r\n\r\n  function hideButton(state) {\r\n    setButtonState(state);\r\n  }\r\n\r\n  function handleSearch(data) {\r\n    props.handleSearch(data);\r\n  }\r\n\r\n\r\n  return (\r\n    <section className=\"movies\">\r\n    <SearchForm handleSearch={handleSearch} resetPageCounter={resetPageCounter} setShortMovie={props.setShortMovie}/>\r\n      <MoviesCardList checkLike={props.checkLike} deleteMovie={props.deleteMovie} savedMovies={props.savedMovies} createMovies={props.createMovies} resetPageCounter={resetPageCounter} filteredMovies={props.filteredMovies} pageCounter = {pageCounter} hideButton = {hideButton}/>\r\n      <div className='moviescardlist__more'>\r\n        <button className='moviescardlist__button' disabled={buttonState} onClick={updatePage}>Ещё</button>\r\n      </div>\r\n      <Footer />\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Movies;","\r\nfunction MoviesCard(props) {\r\n\r\n  function getTimeFromMins(mins) {\r\n    let hours = Math.trunc(mins / 60);\r\n    let minutes = mins % 60;\r\n    return hours + 'ч. ' + minutes + 'м.';\r\n  };\r\n\r\n  function checkLike() {\r\n      props.deleteMovie(props.card._id);\r\n};\r\n\r\nfunction openTrailer() {\r\n  window.open(props.card.trailerLink)\r\n}\r\n\r\n  return (\r\n    <section className=\"moviescard\">\r\n      <div className='moviescard__description'>\r\n        <h2 className='moviescard__title'>{props.card.nameRU}</h2>\r\n        <span className='moviescard__timestamp'>{getTimeFromMins(props.card.duration)}</span>\r\n        <label className='moviescard__likebutton'>\r\n          <input type='checkbox' name='filter' visible='none' onClick={checkLike}></input>\r\n          <span className='moviescard__span moviescard__span_type_delete'></span>\r\n        </label>\r\n      </div>\r\n      <img className='moviescard__image' onClick={openTrailer} src={props.card.image} alt={`Фото ${props.card.image}`}></img>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default MoviesCard;","import MoviesCard from \"../MoviesCard/MoviesCard\";\r\n\r\nfunction MoviesCardList(props) {\r\n\r\n  return (\r\n    <section className=\"moviescardlist\">\r\n        {\r\n        (props.savedMovies.length === 0) ? <span>Ничего не найдено</span> :\r\n        props.savedMovies.map((card) => (<MoviesCard\r\n          key={card._id}\r\n          card={card}\r\n          deleteMovie={props.deleteMovie}\r\n          />))\r\n      }\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default MoviesCardList;\r\n","import SearchForm from \"../Movies/SearchForm/SearchForm\";\r\nimport MoviesCardList from \"./MoviesCardList/MoviesCardList\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport { useEffect } from \"react\";\r\n\r\nfunction SavedMovies(props) {\r\n\r\nuseEffect(() => {\r\n  props.setIsOpenHeader(true);\r\n});\r\n\r\n\r\n\r\n  return (\r\n    <section className=\"movies\">\r\n      <SearchForm handleSearch={props.handleSearch} setShortMovie={props.setShortMovie}/>\r\n      <MoviesCardList savedMovies={props.savedMovies} deleteMovie={props.deleteMovie}/>\r\n      <div className='saveddevider'></div>\r\n      <Footer />\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default SavedMovies;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React, { useContext, useEffect, useState } from 'react';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\nimport validator from 'validator';\r\n\r\nfunction Profile(props) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isValid, setIsValid] = useState(false);\r\n  const [isValidEmail, setIsValidEmail] = useState(false);\r\n\r\n  props.setIsOpenHeader(true);\r\n\r\n  useEffect(() => {\r\n    setValues({name: currentUser.name, email: currentUser.email, message: currentUser.message});\r\n  }, [currentUser]);\r\n\r\n  useEffect(() => {\r\n    setErrors({email: currentUser.message});\r\n  }, [currentUser.message]);\r\n\r\n  function handleChange(evt) {\r\n\r\n    const target = evt.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n    if (name === 'email') {\r\n      validationEmail(name, value);\r\n    } else {\r\n      if (currentUser.name === value) {\r\n        setIsValid(false);\r\n        setErrors({ ...errors, [name]: 'Значение имени пользователя должно отличаться' });\r\n      } else {\r\n        setIsValid(target.closest(\"form\").checkValidity());\r\n        setErrors({ ...errors, [name]: target.validationMessage });\r\n        setIsValidEmail(true);\r\n      }\r\n    }\r\n    setValues({ ...values, [name]: value });\r\n  }\r\n\r\n  function validationEmail(name, value) {\r\n\r\n    if (validator.isEmail(value)) {\r\n      if (currentUser.email === value) {\r\n        setIsValidEmail(false);\r\n        setErrors({ ...errors, [name]: 'Значение почты пользователя должно отличаться' });\r\n      } else {\r\n        setIsValidEmail(true);\r\n        setIsValid(true);\r\n        setErrors({ ...errors, [name]: '' });\r\n      }\r\n    } else {\r\n      setIsValidEmail(false)\r\n      setErrors({ ...errors, [name]: 'Введен некорректный Email' });\r\n    }\r\n  }\r\n\r\nconsole.log(isValid, isValidEmail)\r\n    function handleSubmit(evt) {\r\n      evt.preventDefault();\r\n      props.onUpdateUser(values);\r\n    };\r\n\r\n    function onLogOut(evt) {\r\n      props.onLogOut();\r\n  };\r\n\r\n  return (\r\n    <section className='profile'>\r\n      <h2 className='profile__title'>Привет, {values.name}</h2>\r\n      <form className='form form_type_profile' onSubmit={handleSubmit}>\r\n        <div className='form__input-label form__input-label_type_underline'>\r\n        <label className='form__label form__label_type_profile' for='name'>Имя</label>\r\n        <input id='name' className='form__input form__input_type_profile' name='name' onChange={handleChange} value={values.name} required minLength=\"2\" maxLength=\"40\" placeholder='Введите имя' type=\"text\"></input>\r\n        </div>\r\n        <span className='form__input-error'>{errors.name}</span>\r\n        <div className='form__input-label'>\r\n        <label className='form__label form__label_type_profile' for='email'>E-mail</label>\r\n        <input id='email' className='form__input form__input_type_profile' name='email' onChange={handleChange} value={values.email} required placeholder='Введите email' type=\"text\"></input>\r\n        </div>\r\n        <span className='form__input-error'>{errors.email}</span>\r\n        <button type='submit' disabled={!isValid || !isValidEmail} className='form__button-submit form__button-submit_type_profile'>Редактировать</button>\r\n      </form>\r\n      <button className=\"register__link register__link_type_profile\" onClick={onLogOut}>Выйти из аккаунта</button>\r\n    </section>\r\n  )\r\n};\r\n\r\nexport default Profile;","import {useState, useCallback} from 'react'\r\nimport validator from 'validator';\r\n\r\nfunction Login(props) {\r\n\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isValid, setIsValid] = useState(false);\r\n  const [isValidEmail, setIsValidEmail] = useState(false);\r\n  const [isServerError, setIsServerError] = useState('');\r\n\r\n\r\n  function handleChange(evt) {\r\n\r\n    const target = evt.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n    if (name === 'email') {\r\n      validationEmail(name, value);\r\n    } else {\r\n      setErrors({ ...errors, [name]: target.validationMessage });\r\n      setIsValid(target.closest(\"form\").checkValidity());\r\n    }\r\n    setValues({ ...values, [name]: value });\r\n  }\r\n\r\n\r\n  function validationEmail(name, value) {\r\n    if (validator.isEmail(value)) {\r\n      setIsValidEmail(true)\r\n      setErrors({ ...errors, [name]: '' });\r\n    } else {\r\n      setIsValidEmail(false)\r\n      setErrors({ ...errors, [name]: 'Введен некорректный Email' });\r\n    }\r\n  }\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  function onClickRegister(evt) {\r\n    evt.preventDefault();\r\n    props.onClickRegister();\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onLogin(values).then(() => resetForm())\r\n      .catch((err) => {\r\n      err.json().then((err) => setIsServerError(err.message)) \r\n    });\r\n  };\r\n\r\n  return (\r\n      <section className='register'>\r\n <div className='signheader singheader_type_signin'>\r\n   <div className='header__logo header__logo_type_loggedin header__logo_type_sign'></div>\r\n   <h2 className='signheader__title'>Рады видеть!</h2>\r\n    </div>\r\n    <form className='form form_type_sign' onSubmit={handleSubmit} noValidate>\r\n      <label className='form__label' for='email'>E-mail</label>\r\n      <input id='email' className='form__input form__input_type_sign' onChange={handleChange} value={values.email} name=\"email\" placeholder='Введите email' type=\"text\"></input>\r\n      <span className='form__input-error'>{errors.email}</span>\r\n      <label className='form__label' for='password'>Пароль</label>\r\n      <input id='password' className='form__input form__input_type_sign' onChange={handleChange} value={values.password} name=\"password\" required minLength=\"2\" maxLength=\"40\" placeholder='Введите пароль' type=\"password\"></input>\r\n      <span className='form__input-error'>{errors.password}</span>\r\n      <button type='submit' disabled={(!isValid || !isValidEmail)} className='form__button-submit form__button-submit_type_login'>Войти</button>\r\n      <span className='form__input-error'>{isServerError}</span>\r\n    </form>\r\n    <a className=\"register__link register__link_type_signin\" onClick={onClickRegister} href=\"/#\" target=\"_blank\"><span className=\"register__link_type_text\">Ещё не зарегистрированы?</span>Регистрация</a>\r\n  </section>\r\n)\r\n};\r\n\r\nexport default Login;","import { useState, useCallback } from 'react';\r\nimport validator from 'validator';\r\n\r\nfunction Register(props) {\r\n\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isValid, setIsValid] = useState(false);\r\n  const [isValidEmail, setIsValidEmail] = useState(false);\r\n  const [isServerError, setIsServerError] = useState('');\r\n\r\n\r\n  function handleChange(evt) {\r\n\r\n    const target = evt.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n    if (name === 'email') {\r\n      validationEmail(name, value);\r\n    } else {\r\n      setErrors({ ...errors, [name]: target.validationMessage });\r\n      setIsValid(target.closest(\"form\").checkValidity());\r\n    }\r\n    setValues({ ...values, [name]: value });\r\n  }\r\n\r\n\r\n  function validationEmail(name, value) {\r\n    if (validator.isEmail(value)) {\r\n      setIsValidEmail(true)\r\n      setErrors({ ...errors, [name]: '' });\r\n    } else {\r\n      setIsValidEmail(false)\r\n      setErrors({ ...errors, [name]: 'Введен некорректный Email' });\r\n    }\r\n  }\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\nfunction handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onRegister(values).then(() => {resetForm()})\r\n    .catch((err) => {\r\n      err.json().then((err) => setIsServerError(err.message)) \r\n    });\r\n};\r\n\r\n  function onClickLogin(evt) {\r\n    evt.preventDefault();\r\n    props.onClickLogin();\r\n  }\r\n\r\n    return (\r\n        <section className='register'>\r\n   <div className='signheader'>\r\n     <div className='header__logo header__logo_type_loggedin header__logo_type_sign'></div>\r\n     <h2 className='signheader__title'>Добро пожаловать!</h2>\r\n      </div>\r\n      <form className='form form_type_sign' onSubmit={handleSubmit}>\r\n        <label className='form__label' for='name'>Имя</label>\r\n        <input id='name' className='form__input form__input_type_sign' onChange={handleChange} value={values.name} name='name' required minLength=\"2\" maxLength=\"40\" placeholder='Введите имя' type=\"text\"></input>\r\n        <span className='form__input-error'>{errors.name}</span>\r\n        <label className='form__label' for='email'>E-mail</label>\r\n        <input id='email' className='form__input form__input_type_sign' onChange={handleChange} value={values.email} name='email' required minLength=\"2\" maxLength=\"40\" placeholder='Введите email' type=\"text\"></input>\r\n        <span className='form__input-error'>{errors.email}</span>\r\n        <label className='form__label' for='password'>Пароль</label>\r\n        <input id='password' className='form__input form__input_type_sign' onChange={handleChange} value={values.password} name='password' required minLength=\"2\" maxLength=\"40\" placeholder='Введите пароль' type=\"password\"></input>\r\n        <span className='form__input-error'>{errors.password}</span>\r\n        <button type='submit' disabled={(!isValid || !isValidEmail)} className='form__button-submit'>Зарегистрироваться</button>\r\n        <span className='form__input-error'>{isServerError}</span>\r\n      </form>\r\n      <a className=\"register__link\" onClick={onClickLogin} href=\"/#\" target=\"_blank\"><span className=\"register__link_type_text\">Уже зарегистрированы?</span>Войти</a>\r\n    </section>\r\n  )\r\n};\r\n\r\nexport default Register;","import { useHistory } from 'react-router-dom';\r\n\r\nfunction NotFound() {\r\n\r\n  const history = useHistory();\r\n\r\n  function goBack() {\r\n    history.goBack();\r\n  }\r\n\r\n\r\n  return (\r\n    <section className='notfound'>\r\n      <h2 className='notfound__title'>404</h2>\r\n      <h3 className='notfound__subtitle'>Страница не найдена</h3>\r\n      <span className=\"register__link\" onClick={goBack}>Назад</span>\r\n    </section>\r\n  )\r\n};\r\n\r\nexport default NotFound;","import { useLocation } from \"react-router-dom\";\r\n\r\nfunction Menu(props) {\r\n\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <section className={`menu ${props.isOpen ? 'menu_opened' : ''}`}>\r\n      <div className='menu__list'>\r\n      <button type=\"button\" className=\"menu__button-close\" onClick={props.onClose}></button>\r\n      <a className={`header__link header__link_type_menu ${(location.pathname.includes('/') & !location.pathname.includes('/movies') &  !location.pathname.includes('/saved-movies') & !location.pathname.includes('/profile')) ? 'header__link_type_underline' : ''}`}  href=\"/\">Главная</a>\r\n          <a className={`header__link ${location.pathname.includes('/movies') ? 'header__link_type_underline' : ''} header__link_type_menu`} href=\"/movies\">Фильмы</a>\r\n            <a className={`header__link ${location.pathname.includes('/saved-movies') ? 'header__link_type_underline' : ''} header__link_type_menu`} href=\"/saved-movies\">Сохранённые фильмы</a>\r\n            <button className=\"header__link header__button_type_menu header__button header__button_type_loggedin\" onClick={props.openProfile}>Аккаунт</button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Menu;","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n\r\n  return (\r\n          <Route>\r\n              { \r\n                  () => props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\r\n              }\r\n          </Route>\r\n  );\r\n}; \r\n\r\nexport default ProtectedRoute;","class Auth {\r\n  constructor(options) {\r\n      this._options = options;\r\n      this._getDataFromServer = this._getDataFromServer.bind(this);\r\n  }\r\n\r\n  _getDataFromServer(res) {\r\n      if (res.status === 200) {\r\n       return res.json();\r\n      }\r\n      return Promise.reject(res);\r\n  };\r\n\r\n  onRegister(data) {\r\n      return fetch(this._options.baseUrl + '/signup', {\r\n          headers: this._options.headers,\r\n          credentials: 'include',\r\n          method: 'POST',\r\n          body: JSON.stringify({\r\n              password: data.password,\r\n              email: data.email,\r\n              name: data.name\r\n          }),\r\n      }).then(res => { return this._getDataFromServer(res)});\r\n  };\r\n\r\nonLogin(data) {\r\n  return fetch(this._options.baseUrl + '/signin', {\r\n    headers: this._options.headers,\r\n    credentials: 'include',\r\n    method: 'POST',\r\n    body: JSON.stringify({\r\n      email: data.email,\r\n      password: data.password,\r\n    }),\r\n  }).then(res => {if (res.status === 200) {return 'autorized ok'} return this._getDataFromServer(res) });\r\n};\r\n\r\n  authorization() {\r\n      return fetch(this._options.baseUrl + '/users/me', {\r\n          method: 'GET',\r\n          credentials: 'include',\r\n          headers: this._options.headers,\r\n      }).then(res => { return this._getDataFromServer(res) });\r\n  }\r\n\r\n  onLogOut() {\r\n    return fetch(this._options.baseUrl + '/users/logout', {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: this._options.headers,\r\n    }).then(res => {if (res.status === 200) {return 'logout ok'} return this._getDataFromServer(res) });\r\n}\r\n\r\n  \r\n  editUser(name, email) {\r\n    return fetch(this._options.baseUrl + '/users/me', {\r\n        method: 'PATCH',\r\n        credentials: 'include',\r\n        headers: this._options.headers,\r\n        body: JSON.stringify({\r\n            name: name,\r\n            email: email,\r\n        })\r\n    }).then(res => { return this._getDataFromServer(res) });\r\n};\r\n\r\ncreateMovies(data) {\r\n  return fetch(this._options.baseUrl + '/movies', {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n      headers: this._options.headers,\r\n      body: JSON.stringify({\r\n        country: data.country,\r\n        director: data.director,\r\n        duration: data.duration,\r\n        year: data.year,\r\n        description: data.description,\r\n        image: 'https://api.nomoreparties.co' + data.image.url,\r\n        trailer: data.trailerLink,\r\n        nameRU: data.nameRU,\r\n        nameEN: data.nameEN,\r\n        thumbnail: data.trailerLink,\r\n        movieId: data.id,\r\n      })\r\n  }).then(res => { return this._getDataFromServer(res) });\r\n};\r\n\r\n getSavedMovies() {\r\n  return fetch(this._options.baseUrl + '/movies', {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n      headers: this._options.headers,\r\n  }).then(res => { return this._getDataFromServer(res) });\r\n}\r\n\r\ndeleteMovie(movieId) {\r\n  return fetch(this._options.baseUrl + '/movies/'+ movieId, {\r\n      method: 'DELETE',\r\n      credentials: 'include',\r\n      headers: this._options.headers,\r\n  }).then(res => { return this._getDataFromServer(res) });\r\n}\r\n\r\n};\r\n\r\nconst auth = new Auth({\r\n  baseUrl: 'https://api.dvspicin.diploma.nomoredomains.monster',\r\n  headers: {\r\n      'Content-Type': 'application/json',\r\n  }\r\n});\r\n\r\nexport default auth;","class MoviesApi {\r\n  constructor(options) {\r\n      this._options = options;\r\n      this._getDataFromServer = this._getDataFromServer.bind(this);\r\n  }\r\n\r\n  _getDataFromServer(res) {\r\n    if (res.ok) {\r\n        return res.json();\r\n    }\r\n    return Promise.reject(new Error('Произошла ошибка с кодом ', res.status));\r\n};\r\n\r\n  getMovies() {\r\n      return fetch(this._options.baseUrl, {\r\n          method: 'GET',\r\n      }).then(res => { return this._getDataFromServer(res) });\r\n  };\r\n};\r\n\r\nconst moviesApi = new MoviesApi({\r\n  baseUrl: 'https://api.nomoreparties.co/beatfilm-movies',\r\n  headers: {\r\n      'Content-Type': 'application/json',\r\n  }\r\n});\r\n\r\nexport default moviesApi;","import React from 'react'\nimport './Preloader.css'\n\nconst Preloader = (props) => {\n    return (\n        <div className={`preloader ${props.isOpen ? 'preloader_opened' : ''}`}>\n            <div className=\"preloader__container\">\n                <span className=\"preloader__round\"></span>\n            </div>\n        </div>\n    )\n};\n\nexport default Preloader\n","import React from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n\r\nconst history = useHistory();\r\nconst location = useLocation();\r\n\r\n  const openMenu = () => {\r\n    props.openMenu();\r\n}\r\n\r\n    const openProfile = () => {\r\n      history.push('/profile');\r\n    }\r\n\r\n    const linkToMain = () => {\r\n      window.open('/');\r\n    }\r\n\r\n  return (\r\n    <section className={`header ${props.isLoggedIn ? 'header_type_loggedin' : ''} ${props.isOpenHeader ? 'header_opened' : ''}`}>\r\n      {props.isLoggedIn ? <button className='header__logo' onClick={linkToMain}></button> : <button className=\"header__logo\" onClick={linkToMain}></button>}\r\n      {props.isLoggedIn ?\r\n        (<><ul className='header__link-list header__link-list_type_loggedin'>\r\n          <a className={`header__link header__link_type_loggedin header__link_type_bold ${location.pathname.includes('/movies') ? 'header__link_type_underline' : ''}`} href=\"/movies\">Фильмы</a>\r\n          <a className={`header__link header__link_type_loggedin ${location.pathname.includes('/saved-movies') ? 'header__link_type_underline' : ''}`} href=\"/saved-movies\">Сохранённые фильмы</a>\r\n        </ul>\r\n          <button className={`header__link header__button header__button_type_loggedin ${location.pathname.includes('/profile') ? 'header__link_type_underline' : ''}`} onClick={openProfile}>Аккаунт</button>\r\n          <button className=\"header__link header__button header__button_type_drop-down\" onClick={openMenu}> </button>\r\n        </>\r\n        )\r\n        : (\r\n          <ul className='header__link-list'>\r\n            <a className=\"header__link\" onClick={props.onClickRegister} href=\"/signup\" >Регистрация</a>\r\n            <a className=\"header__link header__button\" onClick={props.onClickLogin} href=\"/signin\" >Войти</a>\r\n          </ul>)}\r\n    </section>\r\n  )\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nconst AutorizationRoute = ({ component: Component, ...props }) => {\r\n\r\n  return (\r\n          <Route>\r\n              { \r\n                  () => props.isLoggedIn ? <Redirect to=\"/\" /> : <Component {...props} /> \r\n              }\r\n          </Route>\r\n  );\r\n}; \r\n\r\nexport default AutorizationRoute;","import { Switch, Route, useHistory, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport Main from '../Main/Main';\nimport Movies from '../Movies/Movies';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport Profile from '../Profile/Profile';\nimport Login from '../Login/Login';\nimport Register from '../Register/Register';\nimport NotFound from '../NotFound/NotFound';\nimport './App.css';\nimport Menu from '../Menu/Menu';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport auth from '../../utils/MainApi'\nimport moviesApi from '../../utils/MoviesApi';\nimport Preloader from '../Preloader/Preloader';\nimport Header from '../Header/header';\nimport AutorizationRoute from '../AutorizationRoute/AutorizationRoute';\n\nfunction App() {\n\n  const history = useHistory();\n  const location = useLocation();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [isOpenPreloader, setIsOpenPreloader] = useState(false);\n  const [currentUser, setCurrentUser] = useState({ name: 'Загрузка...', email: 'Загрузка...' });\n  const [isOpenHeader, setIsOpenHeader] = useState(false);\n  const [filteredMovies, setFilteredMovies] = useState([]);\n  const [movies, setMovies] = useState([]);\n  const [savedMovies, setSavedMovies] = useState([]);\n  const [shortMovie, setShortMovie] = useState(false);\n  const [dataForSearch, setDataForSearch] = useState('');\n  const [filteredSavedMovies, setFilteredSavedMovies] = useState([]);\n  let shortMovieDuration = 40;\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      setIsOpenPreloader(true);\n      const getMovies = JSON.parse(localStorage.getItem('movies'));\n      moviesApi.getMovies().then((data) => {\n        setMovies(data);\n        if (!getMovies) {\n          localStorage.setItem('movies', JSON.stringify(data));\n        }\n      }).catch((err) => console.log(err));\n\n      Promise.all([auth.authorization(), auth.getSavedMovies()])\n        .then(([user, savedmovies]) => {\n          setIsOpenPreloader(true);\n          setCurrentUser({ name: user.name, email: user.email, message: '' })\n          setSavedMovies(savedmovies);\n          setIsOpenPreloader(false);\n        }).catch(err => console.log(err));\n        \n    }\n  }, [isLoggedIn]);\n\n \n\n  useEffect(() => {\n    tokenCheck();\n  }, []);\n\n\n  function onRegister(registerData) {\n    return auth.onRegister(registerData).then(() => {\n     onLogin({email: registerData.email, password: registerData.password})\n    });\n  }\n\n  function onLogin(loginData) {\n    return auth.onLogin(loginData).then((jwt) => {\n      setIsOpenPreloader(true);\n      localStorage.setItem('jwt', jwt.jwt);\n      setIsLoggedIn(true);\n    }).then(() => {\n      setIsOpenPreloader(false);\n      history.push('/movies')\n    });\n  };\n\n  function tokenCheck() {\n    return auth.authorization()\n      .then((data) => {\n        setIsOpenPreloader(true);\n        setCurrentUser({ name: data.name, email: data.email })\n        setIsLoggedIn(true);\n        setIsOpenPreloader(false);\n      }).then(() => {\n        setIsOpenPreloader(false);\n        if (location.pathname.includes('/movies')) {\n          history.push('/movies');\n        }\n        if (location.pathname.includes('/saved-movies')) {\n          history.push('/saved-movies');\n        }\n        if (location.pathname.includes('/profile')) {\n          history.push('/profile');\n        }\n      }).catch(err => console.log(err));\n\n  };\n\n  const onUpdateUser = (data) => {\n    setIsOpenPreloader(true);\n    auth.editUser(data.name, data.email).then((data) => {\n      setCurrentUser({ name: data.name, email: data.email, message: 'Данные пользователя обновлены!' });\n      setIsOpenPreloader(false);\n    }).catch((err) => {\n      setCurrentUser({ message: 'Произошла ошибка при обновлении!' });\n      setIsOpenPreloader(false);\n    })\n  };\n\n  const onLogOut = () => {\n    auth.onLogOut().then(() => {\n      setIsOpenPreloader(false);\n      history.push('/');\n      setIsLoggedIn(false);\n    }).then(() => setIsOpenPreloader(false))\n      .catch(err => console.log(err));\n  }\n\n  const closeMenu = () => {\n    setIsMenuOpen(false);\n  }\n\n  const openMenu = () => {\n    setIsMenuOpen(true);\n  }\n\n  const onClickLogin = () => {\n    history.push('/signin');\n  }\n\n  const onClickRegister = () => {\n    history.push('/signup');\n  }\n  const openProfile = () => {\n    history.push('/profile');\n    setIsMenuOpen(false);\n  }\n\nuseEffect(() => {\n  const getMovies = JSON.parse(localStorage.getItem('movies'));\n  if (getMovies) {\n    setFilteredMovies(getMovies);\n  }\n  setFilteredSavedMovies(savedMovies);\n  console.log(savedMovies)\n}, [savedMovies]);\n\n\n  useEffect(() => {\n    handleSearch();\n  }, [shortMovie, dataForSearch]);\n\n\n\n  function handleSearch() {\n    setIsOpenPreloader(true);\n    let filtered = [];\n    if (location.pathname.includes('/movies')) {\n      if (dataForSearch === '') {\n        if(!shortMovie) { \n          setFilteredMovies(movies);\n          setIsOpenPreloader(false);\n          return; }\n        filtered = movies.filter(movie => (movie.duration <= shortMovieDuration));\n        setFilteredMovies(filtered);\n        setIsOpenPreloader(false);\n        return;\n      }\n      if (!shortMovie) {\n        filtered = movies.filter(movie => movie.nameRU.toLowerCase().includes(dataForSearch));\n      } else {\n        filtered = movies.filter(movie => (movie.duration <= shortMovieDuration) && (movie.nameRU.toLowerCase().includes(dataForSearch)));\n      }\n      setFilteredMovies(filtered);\n      localStorage.setItem('movies', JSON.stringify(filtered));\n    }\n    if (location.pathname.includes('/saved-movies')) {\n      if (dataForSearch === '') {\n        if(!shortMovie) { \n          setFilteredSavedMovies(savedMovies);\n          setIsOpenPreloader(false);\n          return; }\n        filtered = savedMovies.filter(movie => (movie.duration <= shortMovieDuration));\n        setFilteredSavedMovies(filtered);\n        setIsOpenPreloader(false);\n        return;\n      }\n      if (!shortMovie) {\n        filtered = savedMovies.filter(movie => movie.nameRU.toLowerCase().includes(dataForSearch));\n      } else {\n        filtered = savedMovies.filter(movie => (movie.duration <= shortMovieDuration) && (movie.nameRU.toLowerCase().includes(dataForSearch)));\n      }\n      setFilteredSavedMovies(filtered);\n    }\n    setIsOpenPreloader(false);\n  }\n\n  const createMovies = (data) => {\n    return auth.createMovies(data).then((data) => {\n      setIsOpenPreloader(true);\n      auth.getSavedMovies().then((data) => {\n        setSavedMovies(data)\n      });\n      setIsOpenPreloader(false);\n      return data;\n    })\n      .catch(err => err.json().then((err) => {\n        setIsOpenPreloader(false);\n        alert(err.validation.body.message)\n      }));\n  }\n\n  const deleteMovie = (data) => {\n    setIsOpenPreloader(true);\n    return auth.deleteMovie(data).then((data) => {\n      auth.getSavedMovies().then((data) => {\n        setSavedMovies(data)\n      });\n      setIsOpenPreloader(false)\n      return data;\n    })\n      .catch(err => console.log(err));\n  }\n\n\n\n  function checkLike(isLiked, card, savedmovie) {\n\n    setIsOpenPreloader(true);\n    if (!isLiked) {\n      createMovies(card).then((newCard) => {\n        if (newCard.movieId) {\n          setMovies((state) => state.map((c) => c.id === newCard.movieId ? card : c));\n          setIsOpenPreloader(false)\n        }\n      }).catch(err => console.log(err));\n    }\n    else {\n      deleteMovie(savedmovie).then((newCard) => {\n        setMovies((state) => state.map((c) => c.id === newCard.movieId ? card : c));\n        setIsOpenPreloader(false)\n      }).catch(err => console.log(err));\n    }\n  }\n\n  return (\n    <section className=\"root\">\n      <div className=\"App\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header isOpenHeader={isOpenHeader} isLoggedIn={isLoggedIn} openMenu={openMenu} />\n          <Preloader isOpen={isOpenPreloader} />\n          <Switch>\n            <ProtectedRoute exact path=\"/movies\" setShortMovie={setShortMovie} createMovies={createMovies} savedMovies={savedMovies} isLoggedIn={isLoggedIn} \n            isOpenPreloader={isOpenPreloader} setIsOpenHeader={setIsOpenHeader} handleSearch={setDataForSearch}\n              openMenu={openMenu} checkLike={checkLike} deleteMovie={deleteMovie} filteredMovies={filteredMovies} component={Movies}\n            />\n            <ProtectedRoute exact path=\"/saved-movies\" isLoggedIn={isLoggedIn} handleSearch={setDataForSearch} deleteMovie={deleteMovie} setShortMovie={setShortMovie} \n            savedMovies={filteredSavedMovies} isOpenPreloader={isOpenPreloader} setIsOpenHeader={setIsOpenHeader} openMenu={openMenu} component={SavedMovies} /> ||\n            <ProtectedRoute path=\"/profile\" isOpenPreloader={isOpenPreloader} setIsOpenHeader={setIsOpenHeader} isLoggedIn={isLoggedIn} onUpdateUser={onUpdateUser}\n              openMenu={openMenu} onLogOut={onLogOut} component={Profile} />\n            <AutorizationRoute path=\"/signin\" isLoggedIn={isLoggedIn} onClickRegister={onClickRegister} onLogin={onLogin} component={Login} />\n            <AutorizationRoute path=\"/signup\" isLoggedIn={isLoggedIn} onClickLogin={onClickLogin} onRegister={onRegister} component={Register} />\n            <Route path=\"/\" exact={true}>\n              <Main onClickRegister={onClickRegister} setIsOpenHeader={setIsOpenHeader} isOpenPreloader={isOpenPreloader} onClickLogin={onClickLogin} />\n            </Route>\n            <Route path=\"\">\n              <NotFound />\n            </Route>\n          </Switch>\n          <Menu isOpen={isMenuOpen} openProfile={openProfile} onClose={closeMenu} />\n        </CurrentUserContext.Provider>\n      </div>\n    </section>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from '../src/components/App/App.js';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}